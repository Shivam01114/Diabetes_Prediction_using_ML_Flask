<!DOCTYPE html>
<html>
<head>
<title>AI Diabetes Analyzer</title>
<link rel="stylesheet" href="/static/css/style.css">
</head>
<body>

<div class="dashboard">

<!-- SIDEBAR -->
<div class="sidebar">
<h2>Diabetes AI</h2>
<ul>
<li class="active">Overview</li>
<li onclick="location.href='/dashboard'">Dashboard</li>
<li onclick="location.href='/decision'">AI Decision</li>
<li onclick="location.href='/diet'">Diet</li>
<li onclick="location.href='/reports'">Reports</li>
</ul>
</div>

<!-- MAIN CONTENT -->
<div class="main-content">
<h1>ðŸ©¸ Diabetes Prediction System</h1>

<!-- INPUT FORM WITH HINTS -->
<div class="form-grid">

<div>
<input id="Pregnancies" placeholder="Pregnancies">
<small>Number of times pregnant (0â€“10)</small>
</div>

<div>
<input id="Glucose" placeholder="Glucose">
<small>Blood sugar level (Normal: &lt;100)</small>
</div>

<div>
<input id="BloodPressure" placeholder="Blood Pressure">
<small>Diastolic BP (Normal: ~80 mmHg)</small>
</div>

<div>
<input id="SkinThickness" placeholder="Skin Thickness">
<small>Skin fold thickness (0â€“50)</small>
</div>

<div>
<input id="Insulin" placeholder="Insulin">
<small>Serum insulin level (0â€“300)</small>
</div>

<div>
<input id="BMI" placeholder="BMI">
<small>Body Mass Index (Normal: 18.5â€“24.9)</small>
</div>

<div>
<input id="DiabetesPedigreeFunction" placeholder="DPF">
<small>Genetic risk score (0.0â€“2.5)</small>
</div>

<div>
<input id="Age" placeholder="Age">
<small>Age in years</small>
</div>

</div>

<!-- BUTTONS -->
<div style="display:flex;gap:15px;flex-wrap:wrap;margin-bottom:20px;">
<button onclick="fillDemo()">Demo</button>
<button onclick="resetForm()">Reset</button>
<button onclick="predict()">Analyze</button>
</div>

<!-- RESULT -->
<h2 id="result"></h2>

<!-- RISK INDICATOR -->
<p id="risk" style="font-weight:600;"></p>
<p id="riskIndicator" style="margin-top:6px;"></p>

</div>
</div>

<!-- SCRIPT -->
<script>
function fillDemo(){
    Pregnancies.value = 2;
    Glucose.value = 137;
    BloodPressure.value = 80;
    SkinThickness.value = 35;
    Insulin.value = 168;
    BMI.value = 43.1;
    DiabetesPedigreeFunction.value = 2.288;
    Age.value = 33;
}

function resetForm(){
    document.querySelectorAll("input").forEach(i => i.value = "");
    result.innerText = "";
    risk.innerText = "";
    riskIndicator.innerText = "";
}

function predict(){
fetch("/predict",{
method:"POST",
headers:{"Content-Type":"application/json"},
body:JSON.stringify({
Pregnancies:Pregnancies.value,
Glucose:Glucose.value,
BloodPressure:BloodPressure.value,
SkinThickness:SkinThickness.value,
Insulin:Insulin.value,
BMI:BMI.value,
DiabetesPedigreeFunction:DiabetesPedigreeFunction.value,
Age:Age.value
})
})
.then(r=>r.json())
.then(d=>{
    result.innerText = d.result;
    risk.innerText = "Risk Level: " + d.risk + "%";

    // Risk Indicator Logic
    if(d.risk < 30){
        riskIndicator.innerHTML = "ðŸŸ¢ Low Risk â€“ Healthy range";
        riskIndicator.style.color = "#00ff9c";
    }
    else if(d.risk < 60){
        riskIndicator.innerHTML = "ðŸŸ¡ Moderate Risk â€“ Lifestyle control advised";
        riskIndicator.style.color = "#ffd84d";
    }
    else{
        riskIndicator.innerHTML = "ðŸ”´ High Risk â€“ Medical attention recommended";
        riskIndicator.style.color = "#ff4b4b";
    }
});
}
</script>

</body>
</html>
